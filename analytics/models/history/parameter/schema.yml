version: 2

models:
  - name: hist_parameter__parameters
    description: "Stores historical records of parameters from the Parameter database. This table stores parameters used by Turbine to enhance reusability across multiple products and eliminate hard-coding. It serves as a centralized repository for parameters and values, such as fees, profit, transaction charges, and subscription fees, and is used by Turbine to process various transaction or account requests related to different product definitions."
    columns:
      - name: id
        description: "The primary key for the parameters table, uniquely identifying each parameter record."
        data_type: UUID
        data_tests:
          - not_null
      - name: name
        description: "The exact name of the parameter that will be used in product definition"
        data_type: String
        data_tests:
          - not_null
      - name: namespace
        description: "The namespace provides context for the product associated with the parameter. For example, if the product is a current account, all parameters related to it will fall under the 'CURRENT_ACCOUNT' namespace."
        data_type: String
        data_tests:
          - not_null
      - name: language
        data_type: LowCardinality(String)
        description: "The language of the handler that will use this parameter"
        data_tests:
          - not_null
          - accepted_values:
              values: "{{ var('parameter_languages') }}"
      - name: value
        data_type: String
        description: "The exact value of the parameter"
        data_tests:
          - not_null
      - name: create_metadata
        description: "Stores metadata related to the parameter's creation in a JSON-encoded string, including the creation timestamp and details of the Actor responsible for creating the parameter."
        data_type: String
        data_tests:
          - not_null
      - name: update_metadata
        description: "Stores metadata related to the parameter's updation in a JSON-encoded string, including the updation timestamp and details of the Actor responsible for updating the parameter."
        data_type: String
        data_tests:
          - not_null
      - name: update_timestamp
        description: "The timestamp provided by Airbyte when the parameter record was created, updated, or deleted."
        data_type: DateTime64(3, 'GMT')
        data_tests:
          - not_null
      - name: delete_timestamp
        description: "The timestamp when the parameter record was deleted."
        data_type: Nullable(DateTime64(3, 'GMT'))
      - name: emission_timestamp
        description: "Timestamp when the record was emitted from the source to the destination during the sync process."
        data_type: DateTime64(3, 'GMT')
        data_tests:
          - not_null
      - name: _airbyte_data
        description: "Contains a JSON-encoded string of the full record, including all original table fields and additional metadata."
        data_type: String
        data_tests:
          - not_null
